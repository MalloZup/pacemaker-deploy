qemu_uri = "{{ terraform.common.qemu_uri if terraform.common.qemu_uri else "qemu:///system" }}"

#
# Common infrastructure
#
source_image = "{{ terraform.common.source_image if terraform.common.source_image }}"

volume_name = "{{ terraform.common.volume_name if terraform.common.volume_name }}"

storage_pool = "{{ terraform.common.storage_pool if terraform.common.storage_pool else "default" }}"

network_name = "{{ terraform.common.network_name if terraform.common.network_name }}"

ip_range = "{{ terraform.common.ip_range }}"

isolated_network_bridge = "{{ terraform.common.isolated_network_bridge if terraform.common.isolated_network_bridge }}"

shared_storage_type = "{{ terraform.common.shared_storage_type if terraform.common.shared_storage_type else "shared-disk" }}"

sbd_disk_size = {{ terraform.common.sbd_disk_size if terraform.common.sbd_disk_size else 104857600 }}


#
# Cluster Nodes
#
node_source_image = "{{ terraform.node.source_image if terraform.node.source_image }}"

node_volume_name = "{{ terraform.node.volume_name if terraform.node.volume_name }}"

node_count = {{ terraform.node.count if terraform.node.count else 3 }}

node_cpus = {{ terraform.node.cpus if terraform.node.cpus else 2 }}

node_memory = {{ terraform.node.memory if terraform.node.memory else 1024 }}

node_disk_size = {{ terraform.node.disk_size if terraform.node.disk_size else 68719476736 }}

node_private_ips = {{ jsonify(terraform.node.private_ips) if terraform.node.private_ips else [] }}


#
# iSCSI server
#
iscsi_source_image = "{{ terraform.iscsi.source_image if terraform.iscsi.source_image }}"

iscsi_volume_name = "{{ terraform.iscsi.volume_name if terraform.iscsi.volume_name }}"

iscsi_cpus = {{ terraform.iscsi.cpus if terraform.iscsi.cpus else 2 }}

iscsi_memory = {{ terraform.iscsi.memory if terraform.iscsi.memory else 1024 }}

iscsi_disk_size = {{ terraform.iscsi.disk_size if terraform.iscsi.disk_size else 10737418240 }}

iscsi_private_ip = "{{ terraform.iscsi.private_ip if terraform.iscsi.private_ip }}"


#
# Monitor
#
monitor_source_image = "{{ terraform.monitor.source_image if terraform.monitor.source_image }}"

monitor_volume_name = "{{ terraform.monitor.volume_name if terraform.monitor.volume_name }}"

monitor_enabled = {{ "true" if terraform.monitor.enabled else "false" }}

monitor_cpus = {{ terraform.monitor.cpus if terraform.monitor.cpus else 2 }}

monitor_memory = {{ terraform.monitor.memory if terraform.monitor.memory else 1024 }}

monitor_private_ip = "{{ terraform.monitor.ip if terraform.monitor.private_ip }}"
